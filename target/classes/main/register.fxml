<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.geometry.Insets?>

<!-- Root container for the register page -->
<VBox alignment="CENTER" spacing="20.0" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="main.RegisterController" stylesheets="@../styles/register.css">
    <children>
        <!-- Page title -->
        <Label text="Register Page"/>

        <!-- Card container for the form -->
        <VBox alignment="CENTER" styleClass="Register_Card" prefWidth="400" minWidth="400" maxWidth="400">
            <!-- Username input field -->
            <TextField fx:id="usernameField" promptText="Username" prefHeight="40"/>

            <!-- Password input with toggle visibility -->
            <HBox spacing="0" styleClass="password-container">
                <StackPane HBox.hgrow="ALWAYS" prefHeight="40">
                    <!-- Hidden by default PasswordField -->
                    <PasswordField fx:id="passwordField" promptText="Enter Password" HBox.hgrow="ALWAYS" prefHeight="40"/>
                    <!-- Visible TextField when toggled -->
                    <TextField fx:id="passwordFieldVisible" promptText="Enter Password" visible="false" HBox.hgrow="ALWAYS" prefHeight="40"/>
                </StackPane>
                <!-- Eye button to toggle password visibility -->
                <Button fx:id="PasswordToggle" text="ðŸ‘" onAction="#togglePasswordVisibility" styleClass="eye-button" focusTraversable="false"/>
            </HBox>

            <!-- Confirm Password input with toggle visibility -->
            <HBox spacing="0" styleClass="password-container">
                <StackPane HBox.hgrow="ALWAYS" prefHeight="40">
                    <!-- Hidden by default PasswordField -->
                    <PasswordField fx:id="confirmPasswordField" promptText="Confirm Password" HBox.hgrow="ALWAYS" prefHeight="40"/>
                    <!-- Visible TextField when toggled -->
                    <TextField fx:id="confirmPasswordFieldVisible" promptText="Confirm Password" visible="false" HBox.hgrow="ALWAYS" prefHeight="40"/>
                </StackPane>
                <!-- Eye button to toggle confirm password visibility -->
                <Button fx:id="ConfirmPasswordToggle" text="ðŸ‘" onAction="#toggleConfirmPasswordVisibility" styleClass="eye-button" focusTraversable="false"/>
            </HBox>

            <!-- Buttons row -->
            <HBox spacing="10">
                <!-- Primary button: Create account -->
                <Button fx:id="registerSubmit" text="Create account" onAction="#registerUser" defaultButton="true" />
                <!-- Secondary button: Go back to Login screen -->
                <Button fx:id="secondaryButton" text="Back to Login" onAction="#switchToLogin"/>
            </HBox>
        </VBox>
    </children>

    <!-- Outer padding for the whole VBox -->
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>
</VBox>
