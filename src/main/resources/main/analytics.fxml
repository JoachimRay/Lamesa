<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.chart.CategoryAxis?> 
<?import javafx.scene.chart.LineChart?> 
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.BarChart?> 
<?import javafx.scene.chart.NumberAxis?> 
<?import javafx.scene.control.DatePicker?>




<ScrollPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="main.AnalyticsController" stylesheets="@../styles/analytics.css" fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
  <VBox spacing="20" style="-fx-padding: 20; -fx-pref-height: USE_COMPUTED_SIZE; -fx-min-height: USE_PREF_SIZE;">

    <HBox spacing="20" VBox.vgrow="ALWAYS">
      <VBox spacing="20">
        <VBox styleClass="DateFilterCard" spacing="8">
          <Label text="Date Range Filter" styleClass="DateFilterTitle"/>
          <HBox spacing="10" alignment="CENTER_LEFT">
            <DatePicker fx:id="StartDatePicker" styleClass="DatePickerInput" promptText="Start Date"/>
            <Label text="to" styleClass="DateRangeLabel" style="-fx-padding: 0 5; -fx-text-fill: #666;"/>
            <DatePicker fx:id="EndDatePicker" styleClass="DatePickerInput" promptText="End Date"/>
            <Button text="Filter" onAction="#HandleFilterDate" styleClass="ApplyFilterButton"/>
            <Region HBox.hgrow="ALWAYS"/>
          </HBox>
        </VBox>

        <VBox styleClass="MonthlySalesCard" alignment="CENTER" spacing="0">
          <HBox alignment="CENTER">
            <Label text = "Total Monthly Sales: " fx:id = "TotalMonthlySalesLabel" styleClass = "TotalMonthlySalesLabel"/> 
          </HBox>
          <Label text="Monthly Sales" styleClass="MonthlySalesTitle" fx:id="MonthlySalesTitle" alignment="CENTER"/>
        </VBox>

        <VBox styleClass = "YearlySalesCard" alignment="CENTER" spacing="0"> 
          <HBox alignment="CENTER">
            <Label text = "Total Yearly Sales: " fx:id = "TotalYearlySalesLabel" styleClass = "TotalYearlySalesLabel"/>
          </HBox>
          <Label text = "Current Year Sales" styleClass = "YearlySalesTitle" fx:id = "YearlySalesTitle" alignment="CENTER"/>
        </VBox>
      </VBox>

      <VBox styleClass="PieCard" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
        <PieChart fx:id="pieChart" title="Top Products" styleClass="PieChart" legendVisible="false"/>
        <HBox fx:id="customLegend" spacing="15" style="-fx-padding: 10; -fx-alignment: center;"/>
      </VBox>
    </HBox>

    <VBox styleClass="LineCard">

    <LineChart fx:id="lineChart" title="Sales Over Time" styleClass = "LineChart">
          <xAxis>
            <CategoryAxis label="Month"/>
          </xAxis>
          <yAxis>
            <NumberAxis label="Sales"/>
          </yAxis>
        </LineChart>
    </VBox>

    <VBox styleClass = "BarCard"> 

    <BarChart fx:id="barChart" title = "Sales by Product" categoryGap = "10" barGap = "0.2">
        <xAxis> 
          <CategoryAxis label = "Products"/>
        </xAxis>
        <yAxis> 
          <NumberAxis label = "Sales"/>
        </yAxis>
    </BarChart>



    </VBox>

  </VBox>
</ScrollPane>